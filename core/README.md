# 다양한 의존관계 주입 방법

- 생성자 주입
- 수정자 주입 (setter 주입)
- 필드 주입
- 일반 메서드 주입

1. 생성자 주입
    - 생성자 호출 시점에 딱 한번만 호출 됨
    - `불변, 필수` 의존 관계에 사용
    - **생성자가 하나**인 경우 @<u>Autowired</u>가 생략되어도 자동으로 주입 된다.

2. 수정자 주입
    - `선택, 변경` 가능성이 있는 의존관계에 사용
    - 자바빈 프로퍼티 규약의 수정자 메서드를 사용하는 방법이다.<br>
      자바빈 프로퍼티 : 자바는 기본적으로 getVariable, setVariable 등을 통해 get, set을 원칙으로 한다.
    - `@Autowired`의 기본 동작은 주입할 대상이 없으면 오류가 발생한다.<br>
      주입할 대상이 없어도 동작하게 하려면 `@Autowired(required = false)`로 등록하면 된다.

3. 필드 주입
    - 필드에 바로 주입하는 방법이다.
    - 외부에서 변경이 불가능해서 테스트하기 힘들다.
    - DI 프레임워크가 없으면 아무것도 할 수가 없다.
    - 예제로 보여주신 것이 new로 내부에 `@Autowired`가 필드로 선언 된 객체를 new로 생성할 시<br>
      내부에 `@Autowired`가 먹지 않아 NullPointException이 발생하는 것을 보여주셨다.
    - `@Configuration` 등 스프링 설정을 하는 특정한 용도로만 사용한다.
    - 혹은 실제 코드와 관계 없는 테스트 코드에서 사용할 것

4. 일반 메서드 주입
    - 일반 메서드를 통해 주입받을 수 있다.
    - 한번에 여러 필드를 주입 받을 수 있다.
    - 일반적으로 잘 사용하지 않는다.
    - 참고 : 의존관계 자동 주입은 스프링 컨테이너가 관리하는 스프링 빈이어야 동작한다.<br>
      스프링 빈이 아닌 일반 클래스에서 `@Autowired`를 적용해도 아무 기능도 작동하지 않는다.